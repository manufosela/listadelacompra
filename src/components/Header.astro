---
/**
 * Header Component
 * Barra superior de la aplicación con logo, selector de grupo y menú de usuario.
 */
---

<header class="app-header" transition:persist>
  <div class="header-left">
    <a href="/app" class="logo-link">
      <svg class="logo-icon" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#3b82f6"/>
            <stop offset="100%" style="stop-color:#1d4ed8"/>
          </linearGradient>
        </defs>
        <rect width="64" height="64" rx="14" fill="url(#logoGrad)"/>
        <g transform="translate(8, 8)">
          <path d="M4 10 L10 10 L13 18" stroke="#ffffff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          <path d="M24 12 L38 22 L10 22 Z" fill="#fbbf24"/>
          <path d="M24 8 L42 24 L40 24 L24 11 L8 24 L6 24 Z" fill="#ffffff"/>
          <path d="M10 24 L10 38 L38 38 L38 24 Z" fill="#ffffff"/>
          <rect x="20" y="28" width="8" height="10" rx="1" fill="#3b82f6"/>
          <circle cx="26" cy="33" r="1" fill="#1d4ed8"/>
          <rect x="12" y="26" width="6" height="6" rx="1" fill="#bfdbfe"/>
          <rect x="30" y="26" width="6" height="6" rx="1" fill="#bfdbfe"/>
          <circle cx="16" cy="42" r="4" fill="#ffffff"/>
          <circle cx="32" cy="42" r="4" fill="#ffffff"/>
          <circle cx="16" cy="42" r="2" fill="#3b82f6"/>
          <circle cx="32" cy="42" r="2" fill="#3b82f6"/>
        </g>
      </svg>
      <span class="logo-text">MyHomeCart</span>
    </a>
  </div>

  <div class="header-center">
    <hc-group-selector></hc-group-selector>
  </div>

  <div class="header-right">
    <hc-user-menu></hc-user-menu>
  </div>
</header>

<script type="module">
  import '/components/hc-group-selector.js';
  import '/components/hc-user-menu.js';
</script>

<style>
  .app-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    background: var(--color-bg);
    border-bottom: 1px solid var(--color-border);
    position: sticky;
    top: 0;
    z-index: 50;
  }

  .header-left {
    flex: 1;
  }

  .logo-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    text-decoration: none;
  }

  .logo-icon {
    width: 32px;
    height: 32px;
    flex-shrink: 0;
  }

  .logo-text {
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: var(--color-primary);
  }

  @media (max-width: 480px) {
    .logo-text {
      display: none;
    }

    .logo-icon {
      width: 36px;
      height: 36px;
    }
  }

  .header-center {
    flex: 2;
    display: flex;
    justify-content: center;
  }

  .header-right {
    flex: 1;
    display: flex;
    justify-content: flex-end;
  }

  @media (max-width: 768px) {
    .app-header {
      padding: var(--space-sm) var(--space-md);
    }

    .header-center {
      display: none;
    }
  }
</style>
